ifndef::snippets[]
:snippets: ./build/generated-snippets
endif::[]

= Bad-request API documentation
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 2
:sectlinks:

== Members

=== 이메일 인증 요청

include::{snippets}/member_send_authentication_mail/http-request.adoc[]
include::{snippets}/member_send_authentication_mail/request-fields.adoc[]
==== 응답

include::{snippets}/member_send_authentication_mail/http-response.adoc[]
include::{snippets}/member_send_authentication_mail/response-fields.adoc[]

=== 회원가입

include::{snippets}/member-signup/http-request.adoc[]
include::{snippets}/member-signup/request-fields.adoc[]
==== 응답

include::{snippets}/member-signup/http-response.adoc[]
include::{snippets}/member-signup/response-fields.adoc[]

=== 로그인한 회원 정보

include::{snippets}/member-loggedInInformation/http-request.adoc[]
include::{snippets}/member-loggedInInformation/request-headers.adoc[]
include::{snippets}/member-loggedInInformation/http-response.adoc[]
include::{snippets}/member-loggedInInformation/response-fields.adoc[]

== Login

=== Bad-Request 로그인

=== Oauth2 로그인

Google 로그인:: https://www.bad-request.kr/api/v2/oauth/authorization/google?redirect_uri=http://localhost:3000/redirect
Kakao 로그인:: https://www.bad-request.kr/api/v2/oauth/client/kakao?redirect_uri=http://localhost:3000/redirect
Github 로그인:: https://www.bad-request.kr/api/v2/oauth/client/github?redirect_uri=http:http://localhost:3000/redirect
note:: redirect_uri= 의 리다이렉트되기를 원하는 위치를 지정해야합니다.

- 인증이 완료되면 리다이렉트 URL로 로그인(Access-Token,Refresh-Token)을 할 수 있는 일회용 인증 코드가 파라미터로 응답됩니다.
- 일회용 인증 코드는 1회만 사용할 수 있습니다.

[source,http]
----
http://localhost:3000/redirect?authentication-code=a5372ebf-5e56-4b78-9900-0b2b2520eff3
----

- 로그인 이후 Authorization 헤더에 Access-token 으로 인증 및 인가를 실행합니다.
----
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhNTE1MzA3ZC00NmI5LTRhYmYtOTFlNS00YTgxYjY5ZTQzYTEiLCJleHAiOjE2ODM3Mjg0NzR9.cdQidJOe0xJpm9QpDSBi_efvPAXqC3OI1IQodVI6HSN5-VbOj1atLWof6nkdrz-Nyt8_vz1GVaKLiSXWPQlNEg
----


==== 이 후 일회용 인증 코드를 이용한 로그인 요청
[source,http]
----
https://www.bad-request.kr/api/v2/login/authentication-code?code=a5372ebf-5e56-4b78-9900-0b2b2520eff3
----

== Questions

=== 질문 목록 조회

==== 요청

include::{snippets}/question-list/http-request.adoc[]

==== 응답

include::{snippets}/question-list/http-response.adoc[]
include::{snippets}/question-list/response-fields.adoc[]

==== 인덱스 정렬

- 최신 데이터 순서로 정렬

[source,http]
----
GET /api/v2/questions HTTP/1.1
Host: www.bad-request.kr
----

- 인덱스 정렬시 다음 데이터를 불러오기 위해서는 lastOfIndex 를 사용해야 합니다.

[source,http]
----
https://www.bad-request.kr/api/v2/questions?lastOfIndex=97
----

==== 조회수로 정렬

- 조회수가 많은 순으로 정렬

[source,http]
----
GET /api/v2/questions?sort=view HTTP/1.1
Host: www.bad-request.kr
----
- 조회수로 정렬시 다음 데이터를 불러오기 위해서는 lastOfView 를 사용해야 합니다.

[source,http]
----
https://www.bad-request.kr/api/v2/questions?sort=view&lastOfView=50
----

==== 추천수로 정렬

- 추천수가 많은 순으로 정렬

[source,http]
----
GET /api/v2/questions?sort=recommend HTTP/1.1
Host: www.bad-request.kr
----

- 추천수로 정렬시 다음 데이터를 불러오기 위해서는 lastOfRecommend 를 사용해야 합니다.

[source,http]
----
https://www.bad-request.kr/api/v2/questions?sort=recommend&lastOfRecommend=10
----

==== 사이즈 & 답변유무

[source,http]
----
GET /api/v2/questions?size=10&isAnswered=true HTTP/1.1
Host: www.bad-request.kr
----

- size: 조회할 데이터의 크기
- isAnswered
* true : 답변이완료된 질문 목록
* false : 답변이 완료되지 않은 질문 목록